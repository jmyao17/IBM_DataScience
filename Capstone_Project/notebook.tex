
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{Capstone\_Project\_week4\_After-school program}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Capstone\_Project: After-school
program}\label{capstone_project-after-school-program}

    \section{Introduction}\label{introduction}

\subsection{Introduction to the problem and
background}\label{introduction-to-the-problem-and-background}

Let's say one of my friends (living in Lansing Capital Area, Michigan
State) plans to initialize an after-school program for elementary school
students and middle-school students. He came to me and asked me for the
suggestion on the location of the after-school program. In order to
provide sound advice for him, we should consider the following factors:

\begin{itemize}
\tightlist
\item
  number of schools (public and private) in the neighbourhood.
\item
  population in the neighbourhood.
\item
  number of venues (stores and restaurants) in the neighbourhood.
\item
  distance from the downtown
\end{itemize}

Definitely, the travel cost from the schools to the after-school spot is
positively correlated to the distance between them. Moreover, there is a
high probability that the more schools around the after-school spot, the
more students will enroll the after school program. But one should also
check if there already exist other after-school programs in the
neighborhood. Besides, the number of stores and restraunts also has a
positve impact on the enrollment.

\subsection{Introduction to the data}\label{introduction-to-the-data}

To this end, we should collect the data of public and private schools,
as well as the venues in the neighbourhoods. Here are the sources of
each type of data:

\begin{itemize}
\item
  US zipcode can be found either from
  https://simplemaps.com/data/us-zips (recommended) or
  http://federalgovernmentzipcodes.us The population correspondign to
  each zipcode is also provided in the data.
\item
  Geocodes for public schools are availe from
  https://nces.ed.gov/programs/edge/Geographic/SchoolLocations
\end{itemize}

The information of Latitude and Longitude is provided in all the files.

\subsection{Introduction to the
methodology}\label{introduction-to-the-methodology}

The python packages that we are going to use include (but not limited
to):

\begin{itemize}
\tightlist
\item
  requests
\item
  folium
\item
  Nominatim
\item
  pandas
\item
  numpy
\end{itemize}

as well as foursquare API.

The procedure of preparing the data can be as follows:

\begin{itemize}
\tightlist
\item
  download/read all the datasets from websites.
\item
  filter out all the schools in the area of interest.
\item
  use Foursquare API to get all the venues (restraunts) in the area.
\item
  visualize the location of the schools and venues with the folium.Map()
\item
  use the groupby method to find out the number of schools and venues in
  each neighbourhood, which is defined based on the zipcode.
\item
  find out the population of each neighbourhood.
\item
  order the neighbourhoods based on the number of schools/venues and
  populations and use this ratio as a guideline
\end{itemize}

    \section{Data prepation and analysis}\label{data-prepation-and-analysis}

    \subsection{Import packages}\label{import-packages}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}326}]:} \PY{k+kn}{import} \PY{n+nn}{requests}
          \PY{k+kn}{from} \PY{n+nn}{pandas}\PY{n+nn}{.}\PY{n+nn}{io}\PY{n+nn}{.}\PY{n+nn}{json} \PY{k}{import} \PY{n}{json\PYZus{}normalize}
          \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd} 
          \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
          \PY{k+kn}{import} \PY{n+nn}{folium}
          \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
          \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
          \PY{k+kn}{from} \PY{n+nn}{geopy}\PY{n+nn}{.}\PY{n+nn}{geocoders} \PY{k}{import} \PY{n}{Nominatim} 
\end{Verbatim}


    \subsection{Preparation of the data}\label{preparation-of-the-data}

    download zipcode file from the website
https://simplemaps.com/data/us-zips. Here we have already downloaded it
into the local directory.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}547}]:} \PY{n}{path}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{uszipsv1.4.csv}\PY{l+s+s1}{\PYZsq{}} 
          
          \PY{n}{US\PYZus{}zipcode}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{path}\PY{p}{)} 
          
          \PY{n}{US\PYZus{}zipcode}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}547}]:}    zip      lat      lng        city state\_id   state\_name   zcta  \textbackslash{}
          0  501  40.8133 -73.0476  Holtsville       NY     New York  False   
          1  544  40.8133 -73.0476  Holtsville       NY     New York  False   
          2  601  18.1800 -66.7522    Adjuntas       PR  Puerto Rico   True   
          3  602  18.3607 -67.1752      Aguada       PR  Puerto Rico   True   
          4  603  18.4544 -67.1220   Aguadilla       PR  Puerto Rico   True   
          
             parent\_zcta  population  county\_fips county\_name  \textbackslash{}
          0      11742.0         NaN          NaN         NaN   
          1      11742.0         NaN          NaN         NaN   
          2          NaN     18570.0      72001.0    Adjuntas   
          3          NaN     41520.0      72003.0      Aguada   
          4          NaN     54689.0      72005.0   Aguadilla   
          
                       all\_county\_weights  imprecise  military  
          0                           NaN       True     False  
          1                           NaN       True     False  
          2  \{'72001':99.43,'72141':0.57\}      False     False  
          3                 \{'72003':100\}      False     False  
          4                 \{'72005':100\}      False     False  
\end{Verbatim}
            
    We are only interested in the data in the Great Lansing Area. Therefore,
we define a filter on both State and City names and pick those data out
as a new dataframe.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}548}]:} \PY{n}{c0} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{state\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Michigan}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c1} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lansing}\PY{l+s+s1}{\PYZsq{}} 
          \PY{n}{c2} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Okemos}\PY{l+s+s1}{\PYZsq{}} 
          \PY{n}{c3} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Haslett}\PY{l+s+s1}{\PYZsq{}} 
          \PY{n}{c4} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mason}\PY{l+s+s1}{\PYZsq{}} 
          \PY{n}{c5} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Holt}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c6} \PY{o}{=}  \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{East Lansing}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}549}]:} \PY{n}{Great\PYZus{}Lansing} \PY{o}{=} \PY{n}{US\PYZus{}zipcode}\PY{p}{[}\PY{p}{(}\PY{n}{c0}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{p}{(}\PY{n}{c1}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c2}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c3}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c4}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c5}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c6}\PY{p}{)}\PY{p}{)}\PY{p}{]}
          \PY{n}{Great\PYZus{}Lansing}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}549}]:}          zip      lat      lng          city state\_id state\_name   zcta  \textbackslash{}
          20914  48805  42.7082 -84.4144        Okemos       MI   Michigan  False   
          20930  48823  42.7620 -84.4539  East Lansing       MI   Michigan   True   
          20931  48824  42.7229 -84.4751  East Lansing       MI   Michigan  False   
          20932  48825  42.7270 -84.4809  East Lansing       MI   Michigan   True   
          20933  48826  42.7360 -84.4843  East Lansing       MI   Michigan  False   
          
                 parent\_zcta  population  county\_fips county\_name  \textbackslash{}
          20914      48864.0         NaN          NaN         NaN   
          20930          NaN     51302.0      26065.0      Ingham   
          20931      48825.0         NaN          NaN         NaN   
          20932          NaN     12596.0      26065.0      Ingham   
          20933      48823.0         NaN          NaN         NaN   
          
                          all\_county\_weights  imprecise  military  
          20914                          NaN       True     False  
          20930  \{'26037':14.5,'26065':85.5\}      False     False  
          20931                          NaN      False     False  
          20932                \{'26065':100\}      False     False  
          20933                          NaN       True     False  
\end{Verbatim}
            
    Taking out the information that we need

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}550}]:} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zip}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{GL\PYZus{}population} \PY{o}{=} \PY{n}{Great\PYZus{}Lansing}\PY{p}{[}\PY{n}{columns}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}551}]:} \PY{n}{GL\PYZus{}population}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zip}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)} 
          \PY{n}{GL\PYZus{}population}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py:3778: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html\#indexing-view-versus-copy
  return super(DataFrame, self).rename(**kwargs)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}551}]:}        Zipcode      Lat      Lon          City  Population
          20914    48805  42.7082 -84.4144        Okemos         NaN
          20930    48823  42.7620 -84.4539  East Lansing     51302.0
          20931    48824  42.7229 -84.4751  East Lansing         NaN
          20932    48825  42.7270 -84.4809  East Lansing     12596.0
          20933    48826  42.7360 -84.4843  East Lansing         NaN
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}552}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{There are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ neighbourhoods in the Great Lansing Area with }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ different Latitudes.}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                                                                                                            \PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
There are 31 neighbourhoods in the Great Lansing Area with 20 different Latitudes.

    \end{Verbatim}

    Now let's prepare the data for schools:

\begin{itemize}
\tightlist
\item
  public schools
\item
  private schools
\end{itemize}

We have already downloaded them into the local directory.

    \subsubsection{public schools}\label{public-schools}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}506}]:} \PY{n}{public\PYZus{}path}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EDGE\PYZus{}GEOCODE\PYZus{}PUBLICSCH\PYZus{}1617/EDGE\PYZus{}GEOCODE\PYZus{}PUBLICSCH\PYZus{}1617.xlsx}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{Public\PYZus{}Schools} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}excel}\PY{p}{(}\PY{n}{public\PYZus{}path}\PY{p}{)}
\end{Verbatim}


    Again, we define filters to pick out the data that we are interested.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}507}]:} \PY{n}{c0} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{STATE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MI}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c1} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LANSING}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c2} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OKEMOS}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c3} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HASLETT}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c4} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EAST LANSING}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c5} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MASON}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c6} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HOLT}\PY{l+s+s1}{\PYZsq{}}
          
          \PY{n}{GL\PYZus{}pub\PYZus{}schools} \PY{o}{=} \PY{n}{Public\PYZus{}Schools}\PY{p}{[}\PY{p}{(}\PY{n}{c0}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{p}{(}\PY{n}{c1}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c2}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c3}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c4}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c5}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c6}\PY{p}{)}\PY{p}{)}\PY{p}{]}
          \PY{n}{GL\PYZus{}pub\PYZus{}schools}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}507}]:}             NCESSCH                              NAME  OPSTFIPS  \textbackslash{}
          43329  260007900543                      Cole Academy        26   
          43330  260008000544  El-Hajj Malik El-Shabazz Academy        26   
          43331  260008200546   Mid-Michigan Leadership Academy        26   
          43419  260020301114    Windemere Park Charter Academy        26   
          43565  260095908074           Lansing Charter Academy        26   
          
                                   STREET     CITY STATE    ZIP STFIP   CNTY  \textbackslash{}
          43329  1915 WEST MOUNT HOPE AVE  LANSING    MI  48910    26  26065   
          43330      1028 WEST BARNES AVE  LANSING    MI  48910    26  26065   
          43331         730 WEST MAPLE ST  LANSING    MI  48906    26  26065   
          43419      3100 WEST SAGINAW ST  LANSING    MI  48917    26  26065   
          43565           3300 EXPRESS CT  LANSING    MI  48910    26  26065   
          
                        NMCNTY   {\ldots}                       NMCBSA  CBSATYPE  CSA  \textbackslash{}
          43329  Ingham County   {\ldots}     Lansing-East Lansing, MI         1  330   
          43330  Ingham County   {\ldots}     Lansing-East Lansing, MI         1  330   
          43331  Ingham County   {\ldots}     Lansing-East Lansing, MI         1  330   
          43419  Ingham County   {\ldots}     Lansing-East Lansing, MI         1  330   
          43565  Ingham County   {\ldots}     Lansing-East Lansing, MI         1  330   
          
                                           NMCSA NECTA  NMNECTA    CD   SLDL   SLDU  \textbackslash{}
          43329  Lansing-East Lansing-Owosso, MI     N        N  2608  26068  26023   
          43330  Lansing-East Lansing-Owosso, MI     N        N  2608  26068  26023   
          43331  Lansing-East Lansing-Owosso, MI     N        N  2608  26068  26023   
          43419  Lansing-East Lansing-Owosso, MI     N        N  2608  26068  26023   
          43565  Lansing-East Lansing-Owosso, MI     N        N  2608  26068  26023   
          
                SURVYEAR  
          43329     2016  
          43330     2016  
          43331     2016  
          43419     2016  
          43565     2016  
          
          [5 rows x 24 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}508}]:} \PY{n}{GL\PYZus{}pub\PYZus{}schools}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}508}]:} Index(['NCESSCH', 'NAME', 'OPSTFIPS', 'STREET', 'CITY', 'STATE', 'ZIP',
                 'STFIP', 'CNTY', 'NMCNTY', 'LOCALE', 'LAT', 'LON', 'CBSA', 'NMCBSA',
                 'CBSATYPE', 'CSA', 'NMCSA', 'NECTA', 'NMNECTA', 'CD', 'SLDL', 'SLDU',
                 'SURVYEAR'],
                dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}509}]:} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ZIP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LAT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LON}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{GL\PYZus{}pubs} \PY{o}{=} \PY{n}{GL\PYZus{}pub\PYZus{}schools}\PY{p}{[}\PY{n}{columns}\PY{p}{]}
          \PY{n}{GL\PYZus{}pubs}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CITY}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ZIP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LAT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LON}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{GL\PYZus{}pubs}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py:3778: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html\#indexing-view-versus-copy
  return super(DataFrame, self).rename(**kwargs)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}509}]:}                                    Name     City  Zipcode        Lat  \textbackslash{}
          43329                      Cole Academy  LANSING    48910  42.711623   
          43330  El-Hajj Malik El-Shabazz Academy  LANSING    48910  42.715258   
          43331   Mid-Michigan Leadership Academy  LANSING    48906  42.746410   
          43419    Windemere Park Charter Academy  LANSING    48917  42.741789   
          43565           Lansing Charter Academy  LANSING    48910  42.699119   
          
                       Lon  
          43329 -84.578810  
          43330 -84.566713  
          43331 -84.563371  
          43419 -84.591616  
          43565 -84.575243  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}510}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{There are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ public schools in the Great Lansing Area with }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ different neighbourhoods.}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}pubs}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                                                                                                            \PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}pubs}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
There are 69 public schools in the Great Lansing Area with 11 different neighbourhoods.

    \end{Verbatim}

    \subsubsection{Private Schools}\label{private-schools}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}511}]:} \PY{n}{private\PYZus{}schools} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}excel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EDGE\PYZus{}GEOCODE\PYZus{}PRIVATESCH\PYZus{}15\PYZus{}16/EDGE\PYZus{}GEOCODE\PYZus{}PRIVATESCH\PYZus{}1516.xlsx}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{private\PYZus{}schools}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}511}]:}        PPIN                                         PINST  \textbackslash{}
          0  A0100060                          CAMELLIA BAPTIST WEM   
          1  A0900032               FIRST PRESBYTERIAN KINDERGARTEN   
          2  00002722                               AUTAUGA ACADEMY   
          3  K9300030                    FIRST BAPTIST KINDERGARTEN   
          4  00002176  MARIETTA JOHNSON SCHOOL OF ORGANIC EDUCATION   
          
                          PL\_ADD      PL\_CIT PL\_STABB PL\_ZIP PL\_ZIP4  STFIP15  CNTY15  \textbackslash{}
          0    201 WOODVALE ROAD  PRATTVILLE       AL  36067    2713        1    1001   
          1    211 S CHESTNUT ST  PRATTVILLE       AL  36067    3023        1    1001   
          2        497 GOLSON RD  PRATTVILLE       AL  36067    9702        1    1001   
          3  138 S WASHINGTON ST  PRATTVILLE       AL  36067     NaN        1    1001   
          4        8 MARIETTA DR    FAIRHOPE       AL  36532    1653        1    1003   
          
                   NMCNTY15  {\ldots}    CBSA15                   NMCBSA15  CBSATYPE15 CSA15  \textbackslash{}
          0  Autauga County  {\ldots}     33860             Montgomery, AL           1     N   
          1  Autauga County  {\ldots}     33860             Montgomery, AL           1     N   
          2  Autauga County  {\ldots}     33860             Montgomery, AL           1     N   
          3  Autauga County  {\ldots}     33860             Montgomery, AL           1     N   
          4  Baldwin County  {\ldots}     19300  Daphne-Fairhope-Foley, AL           1   380   
          
                                NMCSA15 NECTA15 NMNECTA15 CD15 SLDL15 SLDU15  
          0                           N       N         N  102     88     30  
          1                           N       N         N  102     88     30  
          2                           N       N         N  102     42     30  
          3                           N       N         N  102     88     30  
          4  Mobile-Daphne-Fairhope, AL       N         N  101     94     32  
          
          [5 rows x 23 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}512}]:} \PY{n}{c0} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}STABB}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MI}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c1} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LANSING}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c2} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{OKEMOS}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c3} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HASLETT}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c4} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{EAST LANSING}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c5} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{HOLT}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{c6} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{MASON}\PY{l+s+s1}{\PYZsq{}}
           
          \PY{n}{GL\PYZus{}private\PYZus{}schools} \PY{o}{=} \PY{n}{private\PYZus{}schools}\PY{p}{[}\PY{p}{(}\PY{n}{c0}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{p}{(}\PY{n}{c1}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c2}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c3}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c4}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c5}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{c6}\PY{p}{)}\PY{p}{)}\PY{p}{]}
          \PY{n}{GL\PYZus{}private\PYZus{}schools}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}512}]:}            PPIN                             PINST                  PL\_ADD  \textbackslash{}
          10007  A1502011  GREATER LANSING ADVENTIST SCHOOL       5330 W ST JOE HWY   
          10009  00642751        OUR SAVIOR LUTHERAN SCHOOL       7910 E ST JOE HWY   
          10013  00640197       ST GERARD ELEMENTARY SCHOOL       4433 W WILLOW HWY   
          10067  01610864       CAPITOL CITY BAPTIST SCHOOL      5100 WILLOUGHBY RD   
          10068  02037083        MONTESSORI CHILDRENS HOUSE  2100 W SAINT JOSEPH ST   
          
                  PL\_CIT PL\_STABB PL\_ZIP PL\_ZIP4  STFIP15  CNTY15       NMCNTY15  {\ldots}    \textbackslash{}
          10007  LANSING       MI  48917    4060       26   26045   Eaton County  {\ldots}     
          10009  LANSING       MI  48917    8871       26   26045   Eaton County  {\ldots}     
          10013  LANSING       MI  48917     NaN       26   26045   Eaton County  {\ldots}     
          10067     HOLT       MI  48842    1098       26   26065  Ingham County  {\ldots}     
          10068  LANSING       MI  48915    1175       26   26065  Ingham County  {\ldots}     
          
                 CBSA15                  NMCBSA15  CBSATYPE15 CSA15  \textbackslash{}
          10007   29620  Lansing-East Lansing, MI           1   330   
          10009   29620  Lansing-East Lansing, MI           1   330   
          10013   29620  Lansing-East Lansing, MI           1   330   
          10067   29620  Lansing-East Lansing, MI           1   330   
          10068   29620  Lansing-East Lansing, MI           1   330   
          
                                         NMCSA15 NECTA15 NMNECTA15  CD15 SLDL15 SLDU15  
          10007  Lansing-East Lansing-Owosso, MI       N         N  2607     71     24  
          10009  Lansing-East Lansing-Owosso, MI       N         N  2607     71     24  
          10013  Lansing-East Lansing-Owosso, MI       N         N  2607     71     24  
          10067  Lansing-East Lansing-Owosso, MI       N         N  2608     67     23  
          10068  Lansing-East Lansing-Owosso, MI       N         N  2608     68     23  
          
          [5 rows x 23 columns]
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}513}]:} \PY{c+c1}{\PYZsh{}Private\PYZus{}Schools\PYZus{}MI\PYZus{}GL.rename(columns=\PYZob{}\PYZsq{}PL\PYZus{}ZIP\PYZsq{}:\PYZsq{}ZIP\PYZsq{},\PYZsq{}PL\PYZus{}CIT\PYZsq{}:\PYZsq{}CITY\PYZsq{}\PYZcb{},inplace=True)}
          \PY{n}{GL\PYZus{}private\PYZus{}schools}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}513}]:} Index(['PPIN', 'PINST', 'PL\_ADD', 'PL\_CIT', 'PL\_STABB', 'PL\_ZIP', 'PL\_ZIP4',
                 'STFIP15', 'CNTY15', 'NMCNTY15', 'LOCALE15', 'LAT1516', 'LON1516',
                 'CBSA15', 'NMCBSA15', 'CBSATYPE15', 'CSA15', 'NMCSA15', 'NECTA15',
                 'NMNECTA15', 'CD15', 'SLDL15', 'SLDU15'],
                dtype='object')
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}514}]:} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PINST}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}ZIP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LAT1516}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LON1516}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{GL\PYZus{}privates} \PY{o}{=} \PY{n}{GL\PYZus{}private\PYZus{}schools}\PY{p}{[}\PY{n}{columns}\PY{p}{]}
          \PY{n}{GL\PYZus{}privates}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PINST}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}CIT}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{City}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PL\PYZus{}ZIP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LAT1516}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{LON1516}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{GL\PYZus{}privates}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/lib/python3.6/site-packages/pandas/core/frame.py:3778: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html\#indexing-view-versus-copy
  return super(DataFrame, self).rename(**kwargs)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}514}]:}                                    Name     City Zipcode        Lat        Lon
          10007  GREATER LANSING ADVENTIST SCHOOL  LANSING   48917  42.726619 -84.624478
          10009        OUR SAVIOR LUTHERAN SCHOOL  LANSING   48917  42.725150 -84.684151
          10013       ST GERARD ELEMENTARY SCHOOL  LANSING   48917  42.747481 -84.611369
          10067       CAPITOL CITY BAPTIST SCHOOL     HOLT   48842  42.653130 -84.550171
          10068        MONTESSORI CHILDRENS HOUSE  LANSING   48915  42.727000 -84.580061
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}515}]:} \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{There are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ private schools in the Great Lansing Area with }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s2}{ different neighbourhoods.}\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}privates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{,}
                                                                                                            \PY{n+nb}{len}\PY{p}{(}\PY{n}{GL\PYZus{}privates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
There are 15 private schools in the Great Lansing Area with 7 different neighbourhoods.

    \end{Verbatim}

    \subsection{A short summary}\label{a-short-summary}

We have prepared three datasets for use - \textbf{GL\_population} for
populations - \textbf{GL\_pubs} for public schools -
\textbf{GL\_privates} for private schools

    \subsection{Foursquare API}\label{foursquare-api}

Next, we use the foursquare API to get venues for the area.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}516}]:} \PY{n}{CLIENT\PYZus{}ID} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{L0RMBCMNYHTS4DGW4DE2G0WWVXX5SNG1U4T1R4BTXG0Z0WJ5}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} your Foursquare ID}
          \PY{n}{CLIENT\PYZus{}SECRET} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{3NTSNQHDWPVKUDFHTLAA4FERGL0CBNOHCMIWEYTWFZG5UJFQ}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} your Foursquare Secret}
          \PY{n}{VERSION} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{20180605}\PY{l+s+s1}{\PYZsq{}}
          \PY{n}{LIMIT} \PY{o}{=} \PY{l+m+mi}{100}
          \PY{n}{radius} \PY{o}{=} \PY{l+m+mi}{5000}
          
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Your credentails:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CLIENT\PYZus{}ID: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{CLIENT\PYZus{}ID}\PY{p}{)}
          \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CLIENT\PYZus{}SECRET:}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Your credentails:
CLIENT\_ID: L0RMBCMNYHTS4DGW4DE2G0WWVXX5SNG1U4T1R4BTXG0Z0WJ5
CLIENT\_SECRET:3NTSNQHDWPVKUDFHTLAA4FERGL0CBNOHCMIWEYTWFZG5UJFQ

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}517}]:} \PY{c+c1}{\PYZsh{} function that extracts the category of the venue}
          \PY{k}{def} \PY{n+nf}{get\PYZus{}category\PYZus{}type}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
              \PY{k}{try}\PY{p}{:}
                  \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              \PY{k}{except}\PY{p}{:}
                  \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                  
              \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{categories\PYZus{}list}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
                  \PY{k}{return} \PY{k+kc}{None}
              \PY{k}{else}\PY{p}{:}
                  \PY{k}{return} \PY{n}{categories\PYZus{}list}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}518}]:} \PY{k}{def} \PY{n+nf}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{,} \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{500}\PY{p}{)}\PY{p}{:}
              
              \PY{n}{venues\PYZus{}list}\PY{o}{=}\PY{p}{[}\PY{p}{]}
              \PY{n}{count\PYZus{}name} \PY{o}{=} \PY{l+m+mi}{0}
              \PY{k}{for} \PY{n}{name}\PY{p}{,} \PY{n}{lat}\PY{p}{,} \PY{n}{lng} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{)}\PY{p}{:}
                  \PY{n}{count\PYZus{}name} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
                  \PY{n+nb}{print}\PY{p}{(}\PY{n}{count\PYZus{}name}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{zipcode/neighbourhood:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{p}{)}
                      
                  \PY{c+c1}{\PYZsh{} create the API request URL}
                  \PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
                      \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
                      \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
                      \PY{n}{VERSION}\PY{p}{,} 
                      \PY{n}{lat}\PY{p}{,} 
                      \PY{n}{lng}\PY{p}{,} 
                      \PY{n}{radius}\PY{p}{,} 
                      \PY{n}{LIMIT}\PY{p}{)}
                      
                  \PY{c+c1}{\PYZsh{} make the GET request}
                  \PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{response}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                  
                  \PY{c+c1}{\PYZsh{} return only relevant information for each nearby venue}
                  \PY{n}{venues\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{p}{(}
                      \PY{n}{name}\PY{p}{,} 
                      \PY{n}{lat}\PY{p}{,} 
                      \PY{n}{lng}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  
                      \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{results}\PY{p}{]}\PY{p}{)}
          
              \PY{n}{nearby\PYZus{}venues} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{venue\PYZus{}list} \PY{o+ow}{in} \PY{n}{venues\PYZus{}list} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{venue\PYZus{}list}\PY{p}{]}\PY{p}{)}
              \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
              
              \PY{k}{return}\PY{p}{(}\PY{n}{nearby\PYZus{}venues}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}519}]:} \PY{n}{df} \PY{o}{=} \PY{n}{GL\PYZus{}population}
          \PY{n}{Great\PYZus{}Lansing\PYZus{}venues} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                             \PY{n}{latitudes}\PY{o}{=}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                             \PY{n}{longitudes}\PY{o}{=}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                                            \PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
1 zipcode/neighbourhood: 48805
2 zipcode/neighbourhood: 48823
3 zipcode/neighbourhood: 48824
4 zipcode/neighbourhood: 48825
5 zipcode/neighbourhood: 48826
6 zipcode/neighbourhood: 48840
7 zipcode/neighbourhood: 48842
8 zipcode/neighbourhood: 48854
9 zipcode/neighbourhood: 48864
10 zipcode/neighbourhood: 48901
11 zipcode/neighbourhood: 48906
12 zipcode/neighbourhood: 48908
13 zipcode/neighbourhood: 48909
14 zipcode/neighbourhood: 48910
15 zipcode/neighbourhood: 48911
16 zipcode/neighbourhood: 48912
17 zipcode/neighbourhood: 48913
18 zipcode/neighbourhood: 48915
19 zipcode/neighbourhood: 48916
20 zipcode/neighbourhood: 48917
21 zipcode/neighbourhood: 48918
22 zipcode/neighbourhood: 48919
23 zipcode/neighbourhood: 48922
24 zipcode/neighbourhood: 48924
25 zipcode/neighbourhood: 48929
26 zipcode/neighbourhood: 48930
27 zipcode/neighbourhood: 48933
28 zipcode/neighbourhood: 48937
29 zipcode/neighbourhood: 48951
30 zipcode/neighbourhood: 48956
31 zipcode/neighbourhood: 48980

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}520}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{Great\PYZus{}Lansing\PYZus{}venues}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
          
          \PY{n}{Great\PYZus{}Lansing\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
(255, 7)

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}520}]:}    Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
          0         48805                42.7082                -84.4144   
          1         48805                42.7082                -84.4144   
          2         48805                42.7082                -84.4144   
          3         48805                42.7082                -84.4144   
          4         48823                42.7620                -84.4539   
          5         48824                42.7229                -84.4751   
          6         48824                42.7229                -84.4751   
          7         48824                42.7229                -84.4751   
          8         48824                42.7229                -84.4751   
          9         48824                42.7229                -84.4751   
          
                                          Venue  Venue Latitude  Venue Longitude  \textbackslash{}
          0           Tacoma Hills Natural Area       42.707812       -84.414238   
          1            XFINITY Store by Comcast       42.705680       -84.416729   
          2           Golden Eagle Nature Trail       42.710777       -84.410447   
          3  Platinum Paint Coatings LLC Okemos       42.706187       -84.419868   
          4              Walnut Hills Golf Club       42.759651       -84.454663   
          5            MSU Horticulture Gardens       42.721251       -84.473551   
          6                     MSU Dairy Store       42.724393       -84.478446   
          7  Wharton Center for Performing Arts       42.724205       -84.471024   
          8                  Abrams Planetarium       42.725554       -84.476291   
          9      Michigan 4-H Children's Garden       42.720839       -84.472827   
          
               Venue Category  
          0             Trail  
          1  Business Service  
          2             Trail  
          3      Home Service  
          4       Golf Course  
          5            Garden  
          6    Ice Cream Shop  
          7           Theater  
          8       Planetarium  
          9            Garden  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}521}]:} \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{GL\PYZus{}venues\PYZus{}short} \PY{o}{=} \PY{n}{Great\PYZus{}Lansing\PYZus{}venues}\PY{p}{[}\PY{n}{columns}\PY{p}{]}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}522}]:} \PY{n}{GL\PYZus{}venues\PYZus{}short}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}522}]:}    Neighborhood                               Venue  Venue Latitude  \textbackslash{}
          0         48805           Tacoma Hills Natural Area       42.707812   
          1         48805            XFINITY Store by Comcast       42.705680   
          2         48805           Golden Eagle Nature Trail       42.710777   
          3         48805  Platinum Paint Coatings LLC Okemos       42.706187   
          4         48823              Walnut Hills Golf Club       42.759651   
          
             Venue Longitude    Venue Category  
          0       -84.414238             Trail  
          1       -84.416729  Business Service  
          2       -84.410447             Trail  
          3       -84.419868      Home Service  
          4       -84.454663       Golf Course  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}523}]:} \PY{n}{GL\PYZus{}venues}\PY{o}{=}\PY{n}{GL\PYZus{}venues\PYZus{}short}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}524}]:} \PY{n}{GL\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}524}]:}    Zipcode                               Venue  Venue Latitude  \textbackslash{}
          0    48805           Tacoma Hills Natural Area       42.707812   
          1    48805            XFINITY Store by Comcast       42.705680   
          2    48805           Golden Eagle Nature Trail       42.710777   
          3    48805  Platinum Paint Coatings LLC Okemos       42.706187   
          4    48823              Walnut Hills Golf Club       42.759651   
          
             Venue Longitude    Venue Category  
          0       -84.414238             Trail  
          1       -84.416729  Business Service  
          2       -84.410447             Trail  
          3       -84.419868      Home Service  
          4       -84.454663       Golf Course  
\end{Verbatim}
            
    \section{Visualization of the data}\label{visualization-of-the-data}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}525}]:} \PY{k}{def} \PY{n+nf}{get\PYZus{}latlon}\PY{p}{(}\PY{n}{address}\PY{p}{)}\PY{p}{:}
              \PY{n}{geolocator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{p}{)}
              \PY{n}{location}   \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{n}{address}\PY{p}{)}
              \PY{n}{latitude}   \PY{o}{=} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}
              \PY{n}{longitude}  \PY{o}{=} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}
              \PY{k}{return} \PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}526}]:} \PY{n}{latitude}\PY{p}{,} \PY{n}{longitude} \PY{o}{=} \PY{n}{get\PYZus{}latlon}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Lansing, MI}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
          \PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
/anaconda3/lib/python3.6/site-packages/ipykernel\_launcher.py:2: DeprecationWarning: Using Nominatim with the default "geopy/1.18.1" `user\_agent` is strongly discouraged, as it violates Nominatim's ToS https://operations.osmfoundation.org/policies/nominatim/ and may possibly cause 403 and 429 HTTP errors. Please specify a custom `user\_agent` with `Nominatim(user\_agent="my-application")` or by overriding the default `user\_agent`: `geopy.geocoders.options.default\_user\_agent = "my-application"`. In geopy 2.0 this will become an exception.
  

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}526}]:} (42.7404617, -84.5468496)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}583}]:} \PY{n}{map\PYZus{}Great\PYZus{}Lansing} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
          
          \PY{c+c1}{\PYZsh{} population}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{zipcode}\PY{p}{,} \PY{n}{population} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                                                   \PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}population}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:} 
              \PY{n}{labels} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode:}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, Population: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{zipcode}\PY{p}{,}\PY{n}{population}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{labels}\PY{p}{,}\PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} 
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}color=\PYZsq{}\PYZsh{}3186cc\PYZsq{},}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}Great\PYZus{}Lansing}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}Great\PYZus{}Lansing}
          
          \PY{c+c1}{\PYZsh{} add markers to map}
          \PY{c+c1}{\PYZsh{} public schools}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{name} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{GL\PYZus{}pubs}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}pubs}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}pubs}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:} 
              \PY{n}{labels} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{name}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} 
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{green}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}color=\PYZsq{}\PYZsh{}3186cc\PYZsq{},}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}Great\PYZus{}Lansing}\PY{p}{)}  
              \PY{c+c1}{\PYZsh{} private schools}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{name} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{GL\PYZus{}privates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}privates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{GL\PYZus{}privates}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:} 
              \PY{n}{labels} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{name}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} 
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{yellow}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}color=\PYZsq{}\PYZsh{}3186cc\PYZsq{},}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}Great\PYZus{}Lansing}\PY{p}{)}  
          
              \PY{c+c1}{\PYZsh{}Neighborhood Latitude	Neighborhood Longitude	Venue	Venue Latitude	Venue Longitude	Venue Category}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{name} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{GL\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                                    \PY{n}{GL\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                                    \PY{n}{GL\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:} 
              \PY{n}{labels} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{name}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{labels}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,} 
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}color=\PYZsq{}\PYZsh{}3186cc\PYZsq{},}
                  \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}Great\PYZus{}Lansing}\PY{p}{)} 
              
               
              
          \PY{n}{map\PYZus{}Great\PYZus{}Lansing}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}583}]:} <folium.folium.Map at 0x1a3ea0dc50>
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}585}]:} \PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k}{import} \PY{n}{Image}
          \PY{n}{Image}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{map1.JPG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}585}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_44_0.jpeg}
    \end{center}
    { \hspace*{\fill} \\}
    

    \subsection{Fig1: distribution of public schools (green), private
schools (yellow), venues (red) and neighbourhoods (blue) in Great
Lansing
Area.}\label{fig1-distribution-of-public-schools-green-private-schools-yellow-venues-red-and-neighbourhoods-blue-in-great-lansing-area.}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}554}]:} \PY{n+nb}{print}\PY{p}{(}\PY{n}{GL\PYZus{}pubs}\PY{o}{.}\PY{n}{shape}\PY{p}{,} \PY{n}{GL\PYZus{}privates}\PY{o}{.}\PY{n}{shape}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
(69, 5) (15, 5)

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}555}]:} \PY{n}{GL\PYZus{}all\PYZus{}schools} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{GL\PYZus{}pubs}\PY{p}{,}\PY{n}{GL\PYZus{}privates}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{join}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{outer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          \PY{n}{GL\PYZus{}all\PYZus{}schools}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}555}]:} (84, 5)
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}556}]:} \PY{n}{GL\PYZus{}all\PYZus{}schools\PYZus{}summary}\PY{o}{=}\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{GL\PYZus{}all\PYZus{}schools}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{)}
          \PY{n}{GL\PYZus{}all\PYZus{}schools\PYZus{}summary}\PY{o}{.}\PY{n}{rename}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{GL\PYZus{}all\PYZus{}schools\PYZus{}summary}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}556}]:}          School Name  City  Lat  Lon
          Zipcode                             
          48910             12    12   12   12
          48842             10    10   10   10
          48854              8     8    8    8
          48917              8     8    8    8
          48823              7     7    7    7
          48864              7     7    7    7
          48840              5     5    5    5
          48910              3     3    3    3
          48823              3     3    3    3
          48915              3     3    3    3
          48912              3     3    3    3
          48911              3     3    3    3
          48906              3     3    3    3
          48917              3     3    3    3
          48842              2     2    2    2
          48864              2     2    2    2
          48906              1     1    1    1
          48915              1     1    1    1
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}557}]:} \PY{n}{GL\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}557}]:}    Zipcode                               Venue  Venue Latitude  \textbackslash{}
          0    48805           Tacoma Hills Natural Area       42.707812   
          1    48805            XFINITY Store by Comcast       42.705680   
          2    48805           Golden Eagle Nature Trail       42.710777   
          3    48805  Platinum Paint Coatings LLC Okemos       42.706187   
          4    48823              Walnut Hills Golf Club       42.759651   
          
             Venue Longitude    Venue Category  
          0       -84.414238             Trail  
          1       -84.416729  Business Service  
          2       -84.410447             Trail  
          3       -84.419868      Home Service  
          4       -84.454663       Golf Course  
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}558}]:} \PY{n}{GL\PYZus{}venues\PYZus{}summary} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{GL\PYZus{}venues}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{p}{)}
          \PY{n}{GL\PYZus{}venues\PYZus{}summary}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}558}]:}          Venue  Venue Latitude  Venue Longitude  Venue Category
          Zipcode                                                        
          48933       47              47               47              47
          48826       46              46               46              46
          48909       45              45               45              45
          48825       14              14               14              14
          48854       12              12               12              12
          48917        9               9                9               9
          48824        8               8                8               8
          48915        6               6                6               6
          48924        4               4                4               4
          48919        4               4                4               4
          48922        4               4                4               4
          48805        4               4                4               4
          48929        4               4                4               4
          48930        4               4                4               4
          48937        4               4                4               4
          48956        4               4                4               4
          48916        4               4                4               4
          48912        4               4                4               4
          48913        4               4                4               4
          48908        4               4                4               4
          48901        4               4                4               4
          48980        4               4                4               4
          48951        3               3                3               3
          48911        2               2                2               2
          48910        2               2                2               2
          48823        1               1                1               1
          48906        1               1                1               1
          48864        1               1                1               1
          48842        1               1                1               1
          48840        1               1                1               1
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}559}]:} \PY{n}{GL\PYZus{}population2} \PY{o}{=} \PY{n}{GL\PYZus{}population}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}560}]:} \PY{n}{GL\PYZus{}population2}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}560}]:}              Lat      Lon          City  Population
          Zipcode                                            
          48805    42.7082 -84.4144        Okemos         NaN
          48823    42.7620 -84.4539  East Lansing     51302.0
          48824    42.7229 -84.4751  East Lansing         NaN
          48825    42.7270 -84.4809  East Lansing     12596.0
          48826    42.7360 -84.4843  East Lansing         NaN
          48840    42.7690 -84.3707       Haslett     12501.0
          48842    42.6338 -84.5387          Holt     20432.0
          48854    42.5820 -84.4517         Mason     18598.0
          48864    42.7013 -84.4067        Okemos     20148.0
          48901    42.7091 -84.5540       Lansing         NaN
          48906    42.7845 -84.5875       Lansing     26634.0
          48908    42.7091 -84.5540       Lansing         NaN
          48909    42.7311 -84.5526       Lansing         NaN
          48910    42.6985 -84.5230       Lansing     34560.0
          48911    42.6745 -84.5709       Lansing     40111.0
          48912    42.7402 -84.5235       Lansing     17035.0
          48913    42.7091 -84.5540       Lansing         NaN
          48915    42.7383 -84.5710       Lansing      9218.0
          48916    42.7091 -84.5540       Lansing         NaN
          48917    42.7238 -84.6400       Lansing     32062.0
          48918    40.2439 -87.1261       Lansing         NaN
          48919    42.7091 -84.5540       Lansing         NaN
          48922    42.7091 -84.5540       Lansing         NaN
          48924    42.7091 -84.5540       Lansing         NaN
          48929    42.7091 -84.5540       Lansing         NaN
          48930    42.7091 -84.5540       Lansing         NaN
          48933    42.7325 -84.5543       Lansing      2530.0
          48937    42.7091 -84.5540       Lansing         NaN
          48951    42.7300 -84.5622       Lansing         NaN
          48956    42.7091 -84.5540       Lansing         NaN
          48980    42.7091 -84.5540       Lansing         NaN
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}561}]:} \PY{n}{GL\PYZus{}all} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{GL\PYZus{}all\PYZus{}schools\PYZus{}summary}\PY{p}{,}\PY{n}{GL\PYZus{}venues\PYZus{}summary}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{join}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{outer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
          
          \PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
          \PY{n}{GL\PYZus{}all\PYZus{}need} \PY{o}{=} \PY{n}{GL\PYZus{}all}\PY{p}{[}\PY{n}{columns}\PY{p}{]}
          \PY{n}{GL\PYZus{}all\PYZus{}need}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}561}]:}          School Name  Venue
          Zipcode                    
          48910           12.0    2.0
          48842           10.0    1.0
          48854            8.0   12.0
          48917            8.0    9.0
          48823            7.0    1.0
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}562}]:} \PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{GL\PYZus{}all\PYZus{}need}\PY{p}{,}\PY{n}{GL\PYZus{}population2}\PY{p}{]}\PY{p}{,}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{join}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{outer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}563}]:} \PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short}\PY{o}{.}\PY{n}{fillna}\PY{p}{(}\PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          
          \PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short}\PY{o}{.}\PY{n}{dropna}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
          \PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}563}]:}          School Name  Venue      Lat      Lon          City    Population
          Zipcode                                                                  
          48910      12.000000    2.0  42.6985 -84.5230       Lansing  34560.000000
          48842      10.000000    1.0  42.6338 -84.5387          Holt  20432.000000
          48854       8.000000   12.0  42.5820 -84.4517         Mason  18598.000000
          48917       8.000000    9.0  42.7238 -84.6400       Lansing  32062.000000
          48823       7.000000    1.0  42.7620 -84.4539  East Lansing  51302.000000
          48864       7.000000    1.0  42.7013 -84.4067        Okemos  20148.000000
          48840       5.000000    1.0  42.7690 -84.3707       Haslett  12501.000000
          48915       3.000000    6.0  42.7383 -84.5710       Lansing   9218.000000
          48912       3.000000    4.0  42.7402 -84.5235       Lansing  17035.000000
          48911       3.000000    2.0  42.6745 -84.5709       Lansing  40111.000000
          48906       3.000000    1.0  42.7845 -84.5875       Lansing  26634.000000
          48933       4.666667   47.0  42.7325 -84.5543       Lansing   2530.000000
          48826       4.666667   46.0  42.7360 -84.4843  East Lansing  22902.076923
          48909       4.666667   45.0  42.7311 -84.5526       Lansing  22902.076923
          48825       4.666667   14.0  42.7270 -84.4809  East Lansing  12596.000000
          48824       4.666667    8.0  42.7229 -84.4751  East Lansing  22902.076923
          48924       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48919       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48922       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48805       4.666667    4.0  42.7082 -84.4144        Okemos  22902.076923
          48929       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48930       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48937       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48956       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48916       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48913       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48908       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48901       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48980       4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          48951       4.666667    3.0  42.7300 -84.5622       Lansing  22902.076923
          48918       4.666667    8.5  40.2439 -87.1261       Lansing  22902.076923
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}564}]:} \PY{n}{GL\PYZus{}final}\PY{o}{=}\PY{n}{GL\PYZus{}all\PYZus{}need\PYZus{}short}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}565}]:} \PY{n}{GL\PYZus{}final}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}566}]:} \PY{n}{GL\PYZus{}final}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}566}]:}     Zipcode  School Name  Venue      Lat      Lon          City    Population
          0     48910    12.000000    2.0  42.6985 -84.5230       Lansing  34560.000000
          1     48842    10.000000    1.0  42.6338 -84.5387          Holt  20432.000000
          2     48917     8.000000    9.0  42.7238 -84.6400       Lansing  32062.000000
          3     48854     8.000000   12.0  42.5820 -84.4517         Mason  18598.000000
          4     48823     7.000000    1.0  42.7620 -84.4539  East Lansing  51302.000000
          5     48864     7.000000    1.0  42.7013 -84.4067        Okemos  20148.000000
          6     48840     5.000000    1.0  42.7690 -84.3707       Haslett  12501.000000
          7     48826     4.666667   46.0  42.7360 -84.4843  East Lansing  22902.076923
          8     48909     4.666667   45.0  42.7311 -84.5526       Lansing  22902.076923
          9     48918     4.666667    8.5  40.2439 -87.1261       Lansing  22902.076923
          10    48824     4.666667    8.0  42.7229 -84.4751  East Lansing  22902.076923
          11    48924     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          12    48919     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          13    48922     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          14    48805     4.666667    4.0  42.7082 -84.4144        Okemos  22902.076923
          15    48929     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          16    48930     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          17    48937     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          18    48956     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          19    48916     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          20    48913     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          21    48908     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          22    48901     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          23    48980     4.666667    4.0  42.7091 -84.5540       Lansing  22902.076923
          24    48951     4.666667    3.0  42.7300 -84.5622       Lansing  22902.076923
          25    48825     4.666667   14.0  42.7270 -84.4809  East Lansing  12596.000000
          26    48933     4.666667   47.0  42.7325 -84.5543       Lansing   2530.000000
          27    48911     3.000000    2.0  42.6745 -84.5709       Lansing  40111.000000
          28    48906     3.000000    1.0  42.7845 -84.5875       Lansing  26634.000000
          29    48912     3.000000    4.0  42.7402 -84.5235       Lansing  17035.000000
          30    48915     3.000000    6.0  42.7383 -84.5710       Lansing   9218.000000
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}579}]:} \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of schools}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of venues}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{txt} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{ax}\PY{o}{.}\PY{n}{annotate}\PY{p}{(}\PY{n}{txt}\PY{p}{,} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{45}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_59_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{\emph{The above figure suggests the locations with zipcodes
48933, 48826,48909, 48917, 48854, 48825, 48864 }}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}491}]:} \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of schools}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{txt} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{ax}\PY{o}{.}\PY{n}{annotate}\PY{p}{(}\PY{n}{txt}\PY{p}{,} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{45}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_61_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{\emph{The above figure suggests the locations with zipcodes
48910, 48917, 48842, 48854, 48864 }}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}493}]:} \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
          \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{txt} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
              \PY{n}{ax}\PY{o}{.}\PY{n}{annotate}\PY{p}{(}\PY{n}{txt}\PY{p}{,} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{,}\PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{45}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}


    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_63_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    *** The above figure suggests the locations with zipcodes 48909, 48826,
48825, 48854, 48917.***

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}495}]:} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
          \PY{n}{fig}\PY{o}{=}\PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}\PY{n}{y}\PY{o}{=}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{School Name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Zipcode}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
          \PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of Schools}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{16}\PY{p}{)}
          \PY{n}{fig}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{fig}\PY{o}{.}\PY{n}{get\PYZus{}xticklabels}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{,}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{size}\PY{o}{=}\PY{l+m+mi}{15}\PY{p}{)}   
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}495}]:} [Text(0,0,'48805'),
           Text(0,0,'48823'),
           Text(0,0,'48824'),
           Text(0,0,'48825'),
           Text(0,0,'48826'),
           Text(0,0,'48840'),
           Text(0,0,'48842'),
           Text(0,0,'48854'),
           Text(0,0,'48864'),
           Text(0,0,'48901'),
           Text(0,0,'48906'),
           Text(0,0,'48908'),
           Text(0,0,'48909'),
           Text(0,0,'48910'),
           Text(0,0,'48911'),
           Text(0,0,'48912'),
           Text(0,0,'48913'),
           Text(0,0,'48915'),
           Text(0,0,'48916'),
           Text(0,0,'48917'),
           Text(0,0,'48918'),
           Text(0,0,'48919'),
           Text(0,0,'48922'),
           Text(0,0,'48924'),
           Text(0,0,'48929'),
           Text(0,0,'48930'),
           Text(0,0,'48933'),
           Text(0,0,'48937'),
           Text(0,0,'48951'),
           Text(0,0,'48956'),
           Text(0,0,'48980')]
\end{Verbatim}
            
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_65_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \section{Discussion}\label{discussion}

    The above analysis indicates that one should choose the location in one
of the following neighbourhoods: 48826,48909, 48917, 48854, 48825,
48864.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}580}]:} \PY{n}{best} \PY{o}{=} \PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48864}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48826}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48909}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48917}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48854}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{GL\PYZus{}final}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{==}\PY{l+m+mi}{48825}\PY{p}{)}\PY{p}{]}
          \PY{n}{best}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}580}]:}     Zipcode  School Name  Venue      Lat      Lon          City    Population
          2     48917     8.000000    9.0  42.7238 -84.6400       Lansing  32062.000000
          3     48854     8.000000   12.0  42.5820 -84.4517         Mason  18598.000000
          5     48864     7.000000    1.0  42.7013 -84.4067        Okemos  20148.000000
          7     48826     4.666667   46.0  42.7360 -84.4843  East Lansing  22902.076923
          8     48909     4.666667   45.0  42.7311 -84.5526       Lansing  22902.076923
          25    48825     4.666667   14.0  42.7270 -84.4809  East Lansing  12596.000000
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}584}]:}  \PY{c+c1}{\PYZsh{} final}
          \PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{zipcode}\PY{p}{,} \PY{n}{population} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{best}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{best}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
                                                   \PY{n}{best}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{best}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:} 
              \PY{n}{labels} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Zipcode:}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, Population: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{zipcode}\PY{p}{,}\PY{n}{population}\PY{p}{)}
              \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{labels}\PY{p}{,}\PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
              \PY{n+nb}{print}\PY{p}{(}\PY{n}{labels}\PY{p}{)}
              \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
                  \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
                  \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} 
                  \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
                  \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}color=\PYZsq{}\PYZsh{}3186cc\PYZsq{},}
                  \PY{c+c1}{\PYZsh{}fill\PYZus{}opacity=0.7,}
                  \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}Great\PYZus{}Lansing}\PY{p}{)}  
              
          \PY{n}{map\PYZus{}Great\PYZus{}Lansing}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
Zipcode:48917, Population: 32062.0
Zipcode:48854, Population: 18598.0
Zipcode:48864, Population: 20148.0
Zipcode:48826, Population: 22902.076923076922
Zipcode:48909, Population: 22902.076923076922
Zipcode:48825, Population: 12596.0

    \end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}584}]:} <folium.folium.Map at 0x1a3ea0dc50>
\end{Verbatim}
            
    The above map shows that the neighbourhoods of 48917 and 48854 are far
from the downtown. Even though the number of schools and population are
large, I would not recommend these two places considering the travel
cost.

    \section{Conclusion}\label{conclusion}

    ** In short, based on all the three factors, I would suggest him to
locate the after-school program in the neighbourhood with zipcode 48864
or 48826.**

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}586}]:} \PY{n}{Image}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{map2.JPG}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

\texttt{\color{outcolor}Out[{\color{outcolor}586}]:}
    
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_73_0.jpeg}
    \end{center}
    { \hspace*{\fill} \\}
    


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
